import re

str = "[SYSTEM] Anda adalah asisten yang sangat membantu dan diakui sebagai salah satu ilmuwan AI, ahli logika, dan matematikawan terbaik. Sebelum mulai menyelesaikan masalah, pastikan Anda memahami secara cermat dan menyeluruh setiap detail kebutuhan pengguna.\n\n[USER] Deskripsi Tugas: Anda diberikan sebuah deskripsi permasalahan dan pertanyaan. Tugasnya adalah:\n1) parsing konteks menjadi aturan logika berdasarkan predikat yang ditentukan\n2) menulis semua fakta yang disebutkan dalam masalah, dan pastikan mereka diterjemahkan dalam bentuk logika juga.\n3) parsing konjektur menjadi bentuk logika\n4) silakan berikan output akhir dalam format berikut. Pastikan Anda menerjemahkan dalam urutan berikut: fakta, aturan, kemudian konjektur.\n\n------\n\nBerikut adalah contohnya:\nKonteks:\nSetiap jompus memiliki sifat eksentris. Setiap jompus adalah wumpus. Setiap wumpus memiliki sifat tidak transparan. Wumpuses adalah tumpuses. Tumpuses bersifat nakal. Tumpuses adalah vumpuses. Setiap vumpus memiliki sifat dingin. Setiap vumpus adalah yumpus. Yumpuses berwarna oranye. Yumpuses adalah Numpuses. Numpuses membosankan. Setiap numpus adalah Dumpus. Setiap dumpus memiliki sifat bukan pemalu. Impuses memiliki sifat pemalu. Dumpuses adalah rompuses. Setiap rompus tidaklah berwujud cair. Rompuses adalah zumpus. Alex adalah tumpus.\n\nKonjektur:\nAlex bukan pemalu.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah tumpus ::: Tumpus(Alex, True)\n\nAturan:\nJompus($x, True) >>> Eksentris($x, True)\nJompus($x, True) >>> Wumpus($x, True)\nWumpus($x, True) >>> Transparan($x, False)\nWumpus($x, True) >>> Tumpus($x, True)\nTumpus($x, True) >>> Nakal($x, True)\nTumpus($x, True) >>> Vumpus($x, True)\nVumpus($x, True) >>> Dingin($x, True)\nVumpus($x, True) >>> Yumpus($x, True)\nYumpus($x, True) >>> Oranye($x, True)\nYumpus($x, True) >>> Numpus($x, True)\nNumpus($x, True) >>> Membosankan($x, True)\nNumpus($x, True) >>> Dumpus($x, True)\nDumpus($x, True) >>> Pemalu($x, False)\nImpus($x, True) >>> Pemalu($x, True) \nDumpus($x, True) >>> Rompus($x, True)\nRompus($x, True) >>> Cair($x, False)\nRompus($x, True) >>> Zumpus($x, False)\n\nKonjektur:\nPemalu(Alex, False)\n\n***Akhir Blok***\n\n------\n\nBerikut adalah contohnya:\nKonteks:\nJompuses bukan pemalu. Jompuses adalah yumpuses. Setiap yumpus bersifat agresif. Setiap yumpus adalah dumpus. Dumpuses bukan terbuat dari kayu. Dumpuses adalah wumpuses. Wumpuses berwarna merah. Setiap wumpus adalah impus. Setiap impus tidak tembus pandang. Impuses adalah tumpuses. Numpuses asam. Tumpuses tidak asam. Tumpuses adalah vumpuses. Vumpuses tidak terbuat tanah. Setiap vumpus adalah zumpus. Zumpuses berukuran kecil. Zumpuses adalah rompuses. Max adalah yumpus.\n\nKonjektur:\nMax asam.\n\n###\n***Bentuk Akhir***\n\nFakta:\nMax adalah yumpus ::: Yumpus(Max, True)\n\nAturan:\nJompus($x, True) >>> Pemalu($x, False)\nJompus($x, True) >>> Yumpus($x, True)\nYumpus($x, True) >>> Agresif($x, True)\nYumpus($x, True) >>> Dumpus($x, True)\nDumpus($x, True) >>> Kayu($x, False)\nDumpus($x, True) >>> Wumpus($x, True)\nWumpus($x, True) >>> Merah($x, True)\nWumpus($x, True) >>> Impus($x, True)\nImpus($x, True) >>> TembusPandang($x, False)\nImpus($x, True) >>> Tumpus($x, True)\nNumpus($x, True) >>> Asam($x, True)\nTumpus($x, True) >>> Asam($x, False)\nTumpus($x, True) >>> Vumpus($x, True)\nVumpus($x, True) >>> Tanah($x, False)\nVumpus($x, True) >>> Zumpus($x, True)\nZumpus($x, True) >>> Kecil($x, True)\nZumpus($x, True) >>> Rompus($x, True)\n\nKonjektur:\nAsam(Max, True)\n\n***Akhir Blok***\n\n-----\n\nDi bawah ini adalah yang perlu Anda terjemahkan:\nKonteks:\nSetiap tumpus adalah kayu. Setiap tumpus adalah impus. Numpuses dingin. Setiap impus adalah baik. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Stella adalah jompus.\n\nKonjektur:\nStella dingin. \n\n###\n***Bentuk Akhir***\n\nFakta:\nStella adalah jompus ::: Jompus(Stella, True)\nSetiap tumpus adalah kayu ::: Kayu($x, True) >>> Tumpus($x, True)\nSetiap tumpus adalah impus ::: Impus($x, True) >>> Tumpus($x, True)\nNumpuses dingin ::: Dingin($x, True) >>> Numpus($x, True)\nSetiap impus adalah baik ::: Baik($x, True) >>> Impus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nStella dingin.\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses adalah dumpus. Dumpuses tidak tembus cahaya. Dumpuses adalah zumpus. Alex adalah wumpus.\n\nKonjektur:\nAlex bukan dingin.\n\n###\n***Bentuk Akhir***\n\nFakta:\nAlex adalah wumpus ::: Wumpus(Alex, True)\nSetiap wumpus adalah impus ::: Impus($x, True) >>> Wumpus($x, True)\nSetiap impus adalah jompus ::: Jompus($x, True) >>> Impus($x, True)\nSetiap jompus adalah garang ::: Garang($x, True) >>> Jompus($x, True)\nSetiap jompus adalah yumpus ::: Yumpus($x, True) >>> Jompus($x, True)\nSetiap yumpus adalah rompus ::: Rompus($x, True) >>> Yumpus($x, True)\nRompuses besar ::: Besar($x, True) >>> Rompus($x, True)\nRompuses adalah vumpus ::: Vumpus($x, True) >>> Rompus($x, True)\nSetiap vumpus adalah terang ::: Terang($x, True) >>> Vumpus($x, True)\nVumpuses adalah wumpus ::: Wumpus($x, True) >>> Vumpus($x, True)\nWumpuses bukan dingin ::: BukanDingin($x, True) >>> Wumpus($x, True)\nWumpuses adalah dumpus ::: Dumpus($x, True) >>> Wumpus($x, True)\nDumpuses tidak tembus cahaya ::: TidakTembusCahaya($x, True) >>> Dumpus($x, True)\nDumpuses adalah zumpus ::: Zumpus($x, True) >>> Dumpus($x, True)\n\nKonjektur:\nBukanDingin(Alex, True)\n\n***Akhir Blok***\n\n-----\n\nBerikut adalah contoh lain:\nKonteks:\nSetiap wumpus adalah impus. Setiap impus adalah jompus. Setiap jompus adalah garang. Setiap jompus adalah yumpus. Yumpuses bukan merah. Setiap yumpus adalah rompus. Rompuses besar. Rompuses adalah vumpus. Setiap vumpus adalah terang. Vumpuses adalah wumpus. Wumpuses bukan dingin. Wumpuses"

marker_pat = re.compile(
    r'Di bawah ini(?:\s+adalah(?:\s+yang\s+perlu\s+Anda\s+terjemahkan)?)?:?',
    flags=re.IGNORECASE
)
marker_m = marker_pat.search(str)

print(f"marker_m: {marker_m}")

search_start = marker_m.end() if marker_m else 0

print(f"search_start: {search_start}")

block_pattern = re.compile(
    r'\*\*\*(?:Bentuk Akhir)\*\*\*\s*'    # heading
    r'(.*?)'                                         # non-greedy body capture
    r'(?=(\*\*\*(?:Bentuk Akhir)\*\*\*|\*\*\*Akhir Blok\*\*\*|-{3,}|###\s*$|Human:|\Z))',
    flags=re.DOTALL | re.IGNORECASE
)
m = block_pattern.search(str, pos=search_start)

print(f"m: {m}")

if m:
    chosen_block = m.group(1).strip()
    print(f"chosen_block: {chosen_block}")
else:
    # fallback: try to get first occurrence anywhere
    m2 = block_pattern.search(str)
    print(f"m2: {m2}")
    if m2:
        chosen_block = m2.group(1).strip()
    else:
        # try to extract anything between the last '***Bentuk Akhir***' and end, else entire content
        last_heading = re.search(r'\*\*\*(?:Bentuk Akhir|Final Form)\*\*\*(?![\s\S]*\*\*\*(?:Bentuk Akhir|Final Form)\*\*\*)', str, flags=re.IGNORECASE)
        if last_heading:
            chosen_block = str[last_heading.end():].strip()
        else:
            chosen_block = str.strip()